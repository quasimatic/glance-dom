!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={error:0,warn:1,info:2,debug:3,trace:4};t.default={level:"error",logs:[],setLogLevel:function(e){if(isNaN(r[e]))throw new Error("Invalid log level. Valid options are error, warn, info, debug, trace");this.level=e},error:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log("error",t)},warn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log("warn",t)},info:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log("info",t)},debug:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log("debug",t)},trace:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log("trace",t)},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";this.logs=[],this.level=e},_log:function(e,t){r[e]<=r[this.level]&&(this.logs.push(t.join(" ")),console.log(t.join(" ")))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(null==e)return[];var r=0,o=e.length,u=n;for(void 0===u&&(u=e[0],r=1);r<o;r++)u=t(u,e[r],r,e);return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=0,r=e.length,o=[];n<r;n++)t(e[n],n,e)&&o.push(e[n]);return o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),l=r(a),c=n(2),s=r(c),f=n(4),d=r(f),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,e),this.extensions=t}return i(e,[{key:"add",value:function(e){this.extensions=this.extensions.concat(e)}},{key:"getLocatorForLabel",value:function(t){var n=e.labels(this.extensions),r=n[t];return r?this.getLocator(r.locate||r):function(){return[]}}},{key:"getLocatorForOption",value:function(t,n){var r=e.options(this.extensions),o=r[t];return o?this.getLocator(o.locate):this.getDynamicLocator(t,n)}},{key:"getDynamicLocator",value:function(e,t){var n=(0,d.default)((0,s.default)(this.extensions,function(n){return!!n.locator&&n.locator.check({label:t,option:e})}),function(e){return e.locator.locate});if(n.length>0)return function(e){return(0,l.default)(n,function(t,n){return t.concat(n(e))},[])}}},{key:"getLocator",value:function(e){return"[object Array]"===Object.prototype.toString.call(e)?function(t){var n=t.glanceDOM;return(0,l.default)(e,function(e,t){return e.concat(n(t),[])},[])}:"string"==typeof e?function(t){return(0,t.glanceDOM)(e)}:"function"==typeof e?e:function(){return[]}}},{key:"getFilterForOption",value:function(t,n){var r=e.options(this.extensions),o=r[t];return o?"function"==typeof o?o:o.filter:this.getDynamicFilter(t,n)}},{key:"getDynamicFilter",value:function(e,t){var n=(0,d.default)((0,s.default)(this.extensions,function(n){return!!n.filter&&n.filter.check({label:t,option:e})}),function(e){return e.filter.filter});if(n.length>0)return function(e){return(0,l.default)(n,function(t,n){return t.concat(n(e))},[])}}},{key:"getExtensions",value:function(){return this.extensions}},{key:"getLabels",value:function(){return e.labels(this.extensions)}},{key:"getOptions",value:function(){return e.options(this.extensions)}},{key:"getBeforeAllHooks",value:function(){return(0,d.default)((0,s.default)(this.extensions,function(e){return e.beforeAll}),function(e){return e.beforeAll})}},{key:"getAfterAllHooks",value:function(){return(0,d.default)((0,s.default)(this.extensions,function(e){return e.afterAll}),function(e){return e.afterAll})}}],[{key:"labels",value:function(e){return(0,l.default)((0,s.default)(e,function(e){return e.labels}),function(e,t){return u({},e,t.labels)},{})}},{key:"options",value:function(e){return(0,l.default)((0,s.default)(e,function(e){return e.options}),function(e,t){return u({},e,t.options)},{})}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)return[];for(var n=0,r=e.length,o=new Array(r);n<r;n++)o[n]=t(e[n],n,e);return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=[],r=document.evaluate(e,t,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),o=0;o<r.snapshotLength;o++)n.push(r.snapshotItem(o));return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{var n=[];return(0,o.default)(e,t)&&n.push(t),n.concat(Array.prototype.slice.apply(t.querySelectorAll(e)))}catch(e){if(e instanceof DOMException)return[];throw e}};var r=n(26),o=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){var r=n(14);e.exports=function(e){return"string"==typeof e?r.parse(e):JSON.parse(JSON.stringify(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=new Set(t);return(0,o.default)([].concat(e),function(e,t){for(var o=n?t:t.parentNode,u=[];null!==o&&null!==o.outerHTML&&(u.push(o),!r.has(o));)o=o.parentNode;return e.push(u),e},[])};var r=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),u=r(o),i=n(22),a=r(i),l=n(23),c=r(l),s=n(24),f=r(s),d=n(25),p=r(d),g=n(27),v=r(g),h=n(28),b=r(h),y=n(29),m=r(y),_=n(30),O=r(_),x=n(31),w=r(x),M=n(32),j=r(M),E=n(33),k=r(E),P=n(34),L=n(35),A=r(L),S=n(36),F=r(S),N=n(37),C=r(N),D=n(39),T=r(D),I=n(40),R=r(I),W=n(41);t.default=[u.default,a.default,c.default,f.default,p.default,m.default,O.default,v.default,b.default,T.default,C.default,w.default,j.default,k.default,A.default,P.index,P.negativeIndex,R.default,F.default,W.single,W.many]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["custom-label","contains-text","value","attribute-placeholder","attribute-name","attribute-id","class","image","attribute-alt","attribute-type","in-tag-name","visible","lowest-level-matches","input-after","contained-near-scope","many"]},function(e,t,n){"use strict";var r=n(12),o=function(e){return e&&e.__esModule?e:{default:e}}(r);window.glanceDOM=o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=this;return this.selector=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,f.default)("Selector required"),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.execute(function(){v.default.reset(n.logLevel||e.settings.config.logLevel);var r=new a.default(u({},e.settings.config,n)).create(t);return(0,c.default)(u({},e.settings.config,n,{commands:r,glanceDOM:e.selector,reference:t}))})},this.selector.addExtension=function(t){e.settings.addExtension(t)},this.selector.addLabel=function(t,n){e.settings.addLabel(t,n)},this.selector.addOption=function(t,n){e.settings.addOption(t,n)},this.selector.setDefaultOptions=function(t){e.settings.setDefaultOptions(t)},this.selector.reset=function(){e.execute=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(e,n)},e.settings=new O.default},this.selector.getConfig=function(){return e.settings.config},this.selector.setLogLevel=function(t){e.settings.setLogLevel(t)},this.selector.setExecute=function(t){e.execute=t},this.selector.preprocess=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v.default.reset(n.logLevel||e.settings.config.logLevel),new a.default(u({},e.settings.config,n)).create(t)},this.selector.process=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v.default.reset(n.logLevel||e.settings.config.logLevel),t=[].concat(t),(0,c.default)(u({},e.settings.config,n,{commands:t,glanceDOM:e.selector}))},this.selector.parser=p.default,this.selector.defaultOptions=m.default,Object.defineProperty(this.selector,"version",{get:function(){return w.default}}),this.selector.reset(),this.selector}Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultOptions=t.DefaultExtensions=t.Parser=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(13),a=r(i),l=n(17),c=r(l),s=n(20),f=r(s),d=n(7),p=r(d),g=n(0),v=r(g),h=n(9),b=r(h),y=n(10),m=r(y),_=n(42),O=r(_),x=n(43),w=r(x);t.default=new o,t.Parser=p.default,t.DefaultExtensions=b.default,t.DefaultOptions=m.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),l=r(a),c=n(15),s=r(c),f=n(16),d=r(f),p=n(3),g=r(p),v=n(1),h=r(v),b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{extensions:new g.default,defaultOptions:[]},n=t.extensions,r=void 0===n?new g.default:n,u=t.defaultOptions,i=void 0===u?[]:u;o(this,e),this.extensions=r,this.defaultOptions=i}return i(e,[{key:"create",value:function(e){var t=this,n=(0,l.default)(e),r=[];return r.push({command:"beforeall"}),r=r.concat((0,h.default)(n,function(e,n){return e.concat({command:"containers"},t.processIntersect(n))},[])),r.push({command:"afterall"}),r}},{key:"processIntersect",value:function(e){var t=this,n=(0,h.default)(e,function(e,n){return e.concat(u({command:"beforelocating"},n),t.locators(n),u({command:"afterlocating"},n),{command:"intersect"})},[]),r=(0,h.default)(e,function(e,t){return e.concat(t.options)},[]);return n.concat({command:"beforefiltering",options:r},this.filters(r),{command:"afterfiltering",options:r})}},{key:"locators",value:function(e){return new s.default(this).getLocatorCommands(e)}},{key:"filters",value:function(e){return new d.default(this).getFilterCommands(e)}}]),e}();t.default=b},function(e,t,n){"use strict";function r(e,t,n,o){this.message=e,this.expected=t,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}function o(e,t){function n(e,t){return{type:"literal",text:e,ignoreCase:t}}function o(e){return{type:"other",description:e}}function u(t){var n,r=oe[t];if(r)return r;for(n=t-1;!oe[n];)n--;for(r=oe[n],r={line:r.line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return oe[t]=r,r}function i(e,t){var n=u(e),r=u(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function a(e){ne<ue||(ne>ue&&(ue=ne,ie=[]),ie.push(e))}function l(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function c(){var t,n,r,o;if(t=ne,n=[],(r=v())!==L)for(;r!==L;)n.push(r),r=v();else n=L;if(n!==L?(r=b(),r===L&&(r=null),r!==L?(re=t,n=F(n,r),t=n):(ne=t,t=L)):(ne=t,t=L),t===L){if(t=ne,n=b(),n===L&&(n=null),n!==L){if(r=[],(o=h())!==L)for(;o!==L;)r.push(o),o=h();else r=L;r!==L?(re=t,n=N(n,r),t=n):(ne=t,t=L)}else ne=t,t=L;if(t===L&&(t=ne,n=b(),n!==L&&(re=t,n=C(n)),(t=n)===L)){for(t=ne,n=[],e.length>ne?(r=e.charAt(ne),ne++):(r=L,0===ae&&a(D));r!==L;)n.push(r),e.length>ne?(r=e.charAt(ne),ne++):(r=L,0===ae&&a(D));n!==L&&(re=t,n=T()),t=n}}return t}function s(){var t;return 62===e.charCodeAt(ne)?(t=I,ne++):(t=L,0===ae&&a(R)),t}function f(){var t;return 60===e.charCodeAt(ne)?(t=W,ne++):(t=L,0===ae&&a(H)),t}function d(){var e;return e=s(),e===L&&(e=f()),e}function p(){var t;return 94===e.charCodeAt(ne)?(t=q,ne++):(t=L,0===ae&&a(B)),t}function g(){var t;return 35===e.charCodeAt(ne)?(t=U,ne++):(t=L,0===ae&&a(z)),t}function v(){var e,t,n;if(e=ne,t=[],(n=y())!==L)for(;n!==L;)t.push(n),n=y();else t=L;return t!==L?(n=s(),n!==L?(re=e,t=J(t),e=t):(ne=e,e=L)):(ne=e,e=L),e}function h(){var e,t,n,r;if(e=ne,(t=f())!==L){if(n=[],(r=y())!==L)for(;r!==L;)n.push(r),r=y();else n=L;n!==L?(re=e,t=J(n),e=t):(ne=e,e=L)}else ne=e,e=L;return e}function b(){var e,t,n;if(e=ne,t=[],(n=y())!==L)for(;n!==L;)t.push(n),n=y();else t=L;return t!==L&&(re=e,t=J(t)),e=t}function y(){var e,t,n;return e=ne,t=m(),t!==L?(n=p(),n===L&&(n=null),n!==L?(re=e,t=X(t),e=t):(ne=e,e=L)):(ne=e,e=L),e}function m(){var e,t,n,r;if(e=ne,t=[],(n=_())!==L)for(;n!==L;)t.push(n),n=_();else t=L;return t!==L?(n=O(),n===L&&(n=null),n!==L?(r=k(),r===L&&(r=null),r!==L?(re=e,t=G(t,n),e=t):(ne=e,e=L)):(ne=e,e=L)):(ne=e,e=L),e===L&&(e=ne,t=O(),t!==L?(n=k(),n===L&&(n=null),n!==L?(re=e,t=V(t),e=t):(ne=e,e=L)):(ne=e,e=L)),e}function _(){var t,n,r;return t=ne,n=ne,ae++,r=M(),ae--,r===L?n=void 0:(ne=n,n=L),n!==L?(e.length>ne?(r=e.charAt(ne),ne++):(r=L,0===ae&&a(D)),r!==L?(re=t,n=Y(r),t=n):(ne=t,t=L)):(ne=t,t=L),t===L&&(t=j()),t}function O(){var e,t,n,r;if(e=ne,(t=g())!==L){for(n=[],r=x();r!==L;)n.push(r),r=x();n!==L?(re=e,t=K(n),e=t):(ne=e,e=L)}else ne=e,e=L;return e}function x(){var e,t,n;if(e=ne,t=[],(n=E())!==L)for(;n!==L;)t.push(n),n=E();else t=L;return t!==L?(n=g(),n===L&&(n=null),n!==L?(re=e,t=Q(t),e=t):(ne=e,e=L)):(ne=e,e=L),e}function w(){var t;return 92===e.charCodeAt(ne)?(t=Z,ne++):(t=L,0===ae&&a($)),t}function M(){var e;return e=w(),e===L&&(e=d())===L&&(e=g())===L&&(e=p()),e}function j(){var e,t,n;return e=ne,t=w(),t!==L?(n=M(),n!==L?(re=e,t=Y(n),e=t):(ne=e,e=L)):(ne=e,e=L),e}function E(){var t,n,r;return t=ne,n=ne,ae++,r=M(),ae--,r===L?n=void 0:(ne=n,n=L),n!==L?(e.length>ne?(r=e.charAt(ne),ne++):(r=L,0===ae&&a(D)),r!==L?(re=t,n=Y(r),t=n):(ne=t,t=L)):(ne=t,t=L),t}function k(){var t,n;if(t=[],ee.test(e.charAt(ne))?(n=e.charAt(ne),ne++):(n=L,0===ae&&a(te)),n!==L)for(;n!==L;)t.push(n),ee.test(e.charAt(ne))?(n=e.charAt(ne),ne++):(n=L,0===ae&&a(te));else t=L;return t}t=void 0!==t?t:{};var P,L={},A={GlanceReference:c},S=c,F=function(e,t){return t?e.concat([t]):e},N=function(e,t){return e?t.reverse().concat([e]):t},C=function(e){return[e]},D=function(){return{type:"any"}}(),T=function(){return[]},I=">",R=n(">",!1),W="<",H=n("<",!1),q="^",B=n("^",!1),U="#",z=n("#",!1),J=function(e){return e},X=function(e){return e},G=function(e,t){return{label:e.join("").trim(),options:t||[]}},V=function(e){return{options:e||[]}},Y=function(e){return e},K=function(e){return e},Q=function(e){return e.join("").trim()},Z="\\",$=n("\\",!1),ee=/^[ \t\r\n]/,te=function(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}([" ","\t","\r","\n"],!1,!1),ne=0,re=0,oe=[{line:1,column:1}],ue=0,ie=[],ae=0;if("startRule"in t){if(!(t.startRule in A))throw new Error("Can't start parsing from rule \""+t.startRule+'".');S=A[t.startRule]}if((P=S())!==L&&ne===e.length)return P;throw P!==L&&ne<e.length&&a(function(){return{type:"end"}}()),l(ie,ue<e.length?e.charAt(ue):null,ue<e.length?i(ue,ue+1):i(ue,ue))}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.buildMessage=function(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function u(e){return i[e.type](e)}var i={literal:function(e){return'"'+r(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?o(e.parts[t][0])+"-"+o(e.parts[t][1]):o(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};return"Expected "+function(e){var t,n,r=new Array(e.length);for(t=0;t<e.length;t++)r[t]=u(e[t]);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+r(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),c=r(l),s=n(2),f=r(s),d=n(4),p=r(d),g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{extensions:new c.default,defaultOptions:[]},n=t.extensions,r=void 0===n?new c.default:n,u=t.defaultOptions,i=void 0===u?[]:u;o(this,e),this.extensions=r,this.defaultOptions=i}return a(e,[{key:"getLocatorCommands",value:function(e){var t=this.extensions,n=[],r=t.getLabels();return 0===this.optionsWithLocators(e.options,e.label).length&&("object"===i(r[e.label])&&r[e.label].locate||r[e.label])&&(n=[{command:"locate",option:"custom-label",label:e.label}]),this.locatorsFromOptions(e,n,t)}},{key:"locatorsFromOptions",value:function(e,t,n){return this.configureOptionsWithLocators(e).options.forEach(function(n){return t.push({command:"locate",option:n,label:e.label})}),t}},{key:"configureOptionsWithLocators",value:function(e){var t=this.defaultOptions,n=e.options,r=this.optionsWithLocators(n,e.label);return 0===r.length&&t.length>0&&(r=this.optionsWithLocators(t,e.label)),u({},e,{options:r})}},{key:"optionsWithLocators",value:function(e,t){var n=[],r=this.extensions.getOptions(),o=this.extensions;return e.forEach(function(e){if(r[e]&&r[e].locate)n=n.concat(e);else{var u=(0,f.default)(o.getExtensions(),function(n){return!!n.locator&&n.locator.check({label:t,option:e})});u.length>0&&(n=n.concat((0,p.default)(u,function(t){return e})))}}),n}}]),e}();t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),a=r(i),l=n(2),c=r(l),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{extensions:new a.default,defaultOptions:[]},n=t.extensions,r=void 0===n?new a.default:n,u=t.defaultOptions,i=void 0===u?[]:u;o(this,e),this.extensions=r,this.defaultOptions=i}return u(e,[{key:"getFilterCommands",value:function(e){var t=[];return this.filtersFromOptions(e,t)}},{key:"filtersFromOptions",value:function(e,t){return this.configureOptionsWithFilters(e).forEach(function(e){return t.push({command:"filter",option:e})}),t}},{key:"configureOptionsWithFilters",value:function(e){var t=this.extensions,n=this.defaultOptions,r=t.getOptions(),o=e,u=[];if(e.includes("no-default-filters"))o=(0,c.default)(e,function(e){return"no-default-filters"!==e});else{var i=(0,c.default)(n,function(e){return-1===o.indexOf(e)});i.length>0&&(o=i.concat(o))}return o.forEach(function(n){var o=r[n];if("string"==typeof o&&(n=o),o&&("function"==typeof o||o.filter)){if(o.check&&!o.check({option:n,options:e}))return!1;u=u.concat(n)}else{(0,c.default)(t.getExtensions(),function(e){return!!e.filter&&e.filter.check({option:n})}).length>0&&(u=u.concat(n))}}),u}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e){var t=e.command,n=e.extensions,r=e.glanceDOM,u=e.result,a=e.reference;switch(t.command){case"beforeall":n.getBeforeAllHooks().forEach(function(e){return e({reference:a})});break;case"containers":u.scopes&&(u.containers=(0,l.default)(u.scopes,u.subjects)),u.subjects.length>0&&(u.scopes=u.subjects),u.locatedElements=[],u.targets=[],u.subjects=[];break;case"intersect":if(u.targets.length>0){var c=new Set(u.targets);u.targets=(0,g.default)(u.locatedElements,function(e){return c.has(e)}),s.default.debug("Intersected elements:",u.targets.length)}else u.targets=u.locatedElements;0===u.targets.length&&(u.elementsNotFound=!0),u.locatedElements=[];break;case"locate":var f=n.getLocatorForOption(t.option,t.label),d=f(i({},t,{extensions:n,glanceDOM:r,containerElements:u.containers}));d.length>0&&s.default.debug("Located:",d.length),u.locatedElements=u.locatedElements.concat(d),u.locatedElements=[].concat(o(new Set(u.locatedElements)));break;case"afterlocating":s.default.debug("Located "+u.locatedElements.length+" elements for "+t.label);break;case"filter":var p=n.getFilterForOption(t.option),v=p(i({},t,{extensions:n,elements:u.targets,scopeElements:u.scopes}));u.targets.length!==v.length&&(s.default.debug("Filtered out "+(u.targets.length-v.length)),s.default.debug("Remaining "+v.length)),u.targets=v;break;case"afterfiltering":s.default.debug("Elements remaining after filter: "+u.targets.length),u.subjects=u.targets;break;case"afterall":u.containers=(0,l.default)(u.scopes,u.subjects),n.getAfterAllHooks().forEach(function(e){return e({reference:a,elements:u.subjects})})}return u}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=e.commands,n=e.extensions,r=e.glanceDOM,o=e.reference,a=e.containerElements,l=e.advanced,c=e.survey,f=void 0===c?{}:c;f.containers=f.containers||a,f.subjects=f.subjects||[],f.locatedElements=f.locatedElements||[],f.targets=f.targets||[];var p=(0,d.default)(t,function(e,t){return e.elementsNotFound?e:u({command:t,extensions:n,reference:o,glanceDOM:r,result:e})},f);return s.default.debug("Elements found: "+p.subjects.length),l?i({},p,{reference:o,elements:p.subjects,logs:s.default.logs}):1===p.subjects.length?p.subjects[0]:p.subjects};var a=n(18),l=r(a),c=n(0),s=r(c),f=n(1),d=r(f),p=n(2),g=r(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];if(0===e.length||0===t.length)return[];var r=new Set([].concat.apply([],(0,u.default)(e,n)));return(0,a.default)((0,u.default)(t,n),function(e){return(0,c.default)(e,function(e){return r.has(e)})})};var o=n(8),u=r(o),i=n(4),a=r(i),l=n(19),c=r(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n,r=0,o=e.length;r<o;r++)if(n=e[r],t(n,r,e))return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){throw new Error(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={options:{"custom-label":{locate:function(e){var t=e.label,n=e.extensions;return o.default.debug("Searching by label extension:",t),[].concat(n.getLocatorForLabel(t)(e))}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),u=r(o),i=n(0),a=r(i),l=n(8),c=r(l),s=n(1),f=r(s),d=n(2),p=r(d);t.default={options:{"contains-text":{locate:function(e){var t=e.label,n=e.containerElements;a.default.debug("Searching for text that contains:",t);var r=(0,f.default)(n,function(e,n){return e.concat((0,u.default)(".//*[text()]/../*[not(descendant-or-self::script) and not(descendant-or-self::noscript) and not(descendant-or-self::style) and contains(translate(normalize-space(string(.)), 'ABCDEFGHJIKLMNOPQRSTUVWXYZ', 'abcdefghjiklmnopqrstuvwxyz'),translate('"+t+"', 'ABCDEFGHJIKLMNOPQRSTUVWXYZ', 'abcdefghjiklmnopqrstuvwxyz'))]",n))},[]),o=new Set([].concat.apply([],(0,c.default)(r,n,!1)));return(0,p.default)(r,function(e){return!o.has(e)})}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),u=r(o),i=n(0),a=r(i),l=n(1),c=r(l);t.default={options:{"exact-text":{locate:function(e){var t=e.label,n=e.containerElements;return a.default.debug("Searching for text that exact matches:",t),(0,c.default)(n,function(e,n){return e.concat((0,u.default)(".//*[not(self::script) and text()='"+t+"']",n))},[])}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=r(o),i=n(1),a=r(i),l=n(2),c=r(l);t.default={options:{value:{locate:function(e){var t=e.label,n=e.containerElements;return u.default.debug("Searching in value:",t),(0,a.default)(n,function(e,n){var r=n.querySelectorAll("button,input,option,param"),o=Array.prototype.slice.apply(r);return e.concat((0,c.default)(o,function(e){return e.value&&-1!==e.value.toLowerCase().indexOf(t.toLowerCase())}))},[])}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),u=r(o),i=n(0),a=r(i),l=n(1),c=r(l);t.default={options:{class:{locate:function(e){var t=e.label,n=e.containerElements;return a.default.debug("Searching as class name:",t),(0,c.default)(n,function(e,n){return e.concat((0,u.default)("."+t,n))},[])}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return document.documentElement.matches||document.documentElement.matchesSelector||document.documentElement.oMatchesSelector||document.documentElement.msMatchesSelector||document.documentElement.mozMatchesSelector||document.documentElement.webkitMatchesSelector};t.default=function(e,t){return r().call(t,e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),u=r(o),i=n(0),a=r(i),l=n(1),c=r(l);t.default={options:{"in-tag-name":{locate:function(e){var t=e.label,n=e.containerElements;return a.default.debug("Searching by node type:",t),(0,c.default)(n,function(e,n){return e.concat((0,u.default)(""+t,n))},[])}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),u=r(o),i=n(0),a=r(i),l=n(1),c=r(l);t.default={options:{css:{locate:function(e){var t=e.label,n=e.containerElements;return a.default.debug("Searching as css:",t),(0,c.default)(n,function(e,n){return e.concat((0,u.default)(""+t,n))},[])}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),u=r(o),i=n(0),a=r(i),l=n(1),c=r(l);t.default={options:{image:{locate:function(e){var t=e.label,n=e.containerElements;return a.default.debug("Searching for images:",t),(0,c.default)(n,function(e,n){var r=(0,u.default)(".//img[contains(translate(@src, 'ABCDEFGHJIKLMNOPQRSTUVWXYZ', 'abcdefghjiklmnopqrstuvwxyz'), translate('"+t+"', 'ABCDEFGHJIKLMNOPQRSTUVWXYZ', 'abcdefghjiklmnopqrstuvwxyz'))]",n);return e.concat(r)},[])}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),u=r(o),i=n(0),a=r(i),l=n(1),c=r(l);t.default={locator:{check:function(e){var t=e.option;return isNaN(t)&&t.indexOf("attribute-")>-1},locate:function(e){var t=e.label,n=e.option,r=e.containerElements;return isNaN(n)&&n.indexOf("attribute-")>-1?(0,c.default)(r,function(e,r){var o=n.slice("attribute-".length);a.default.debug("Searching "+o+" attribute:",t);var i=(0,u.default)(".//*[contains(translate(@"+o+", 'ABCDEFGHJIKLMNOPQRSTUVWXYZ', 'abcdefghjiklmnopqrstuvwxyz'), translate('"+t+"', 'ABCDEFGHJIKLMNOPQRSTUVWXYZ', 'abcdefghjiklmnopqrstuvwxyz'))]",r);return e.concat(i)},[]):[]}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=r(o),i=n(2),a=r(i);t.default={options:{visible:{check:function(e){return!e.options.includes("hidden")},filter:function(e){var t=e.elements;return u.default.debug("Filtering for visible elements"),(0,a.default)(t,function(e){if("option"===e.tagName.toLowerCase()||e.offsetParent)return!0;var t=window.getComputedStyle(e);return"fixed"===t.position&&"none"!==t.display&&"hidden"!==t.visibility})}},hidden:{check:function(e){return!e.options.includes("visible")},filter:function(e){var t=e.elements;return u.default.debug("Filtering for hidden elements"),(0,a.default)(t,function(e){var t=window.getComputedStyle(e);return"none"===t.display||"hidden"===t.visibility})}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=r(o),i=n(2),a=r(i);t.default={options:{"leaf-node":{filter:function(e){var t=e.elements;return u.default.debug("Filtering for leaf node targets"),(0,a.default)(t,function(e){return!e.childNodes||0===e.childNodes.length||[].slice.call(e.childNodes).every(function(e){return e.nodeType===Node.TEXT_NODE})})}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=r(o),i=n(2),a=r(i);t.default={options:{"input-after":{filter:function(e){var t=e.elements,n=e.scopeElements,r=void 0===n?[]:n;u.default.debug("Filtering for sibling input next to scope");var o=(0,a.default)(t,function(e){return"input"===e.nodeName.toLowerCase()&&(e.previousElementSibling&&"input"!==e.previousElementSibling.nodeName.toLowerCase()&&-1!==r.indexOf(e.previousElementSibling))});return 0===o.length?t:o}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.negativeIndex=t.index=void 0;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),u={filter:{check:function(e){var t=e.option;return null!==t&&!isNaN(t)&&parseInt(t)>0},filter:function(e){var t=e.elements,n=e.option;if(o.default.debug("Filtering by index"),null!==n&&!isNaN(n)){var r=parseInt(n);if(o.default.debug("Selecting the",r,"element out of",t.length),0===r)throw new Error("Position 0 not supported, must be 1 or greater");if(t.length<r)throw new Error("Position "+r+" out of range");return[t[r-1]]}return t}}},i={filter:{check:function(e){var t=e.option;return null!==t&&!isNaN(t)&&parseInt(t)<0},filter:function(e){var t=e.elements,n=e.option;if(o.default.debug("Filtering by negative index"),null!==n&&!isNaN(n)){var r=parseInt(n);if(o.default.debug("Selecting the",r,"element out of",t.length),0===r)throw new Error("Position 0 not supported, must be -1 or lower");if(t.length<Math.abs(r))throw new Error("Position "+r+" out of range");return[t[t.length+r]]}return t}}};t.index=u,t.negativeIndex=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),i=r(u),a=n(1),l=r(a),c=n(2),s=r(c);t.default={options:{"contained-near-scope":{filter:function(e){var t=e.elements,n=e.containerElements,r=void 0===n?[document.documentElement]:n,u=e.scopeElements,a=void 0===u?[]:u;i.default.debug("Filtering for subjects contained near scope");var c=new Set(r);if(0===a.length)return t;var f=(0,l.default)(a,function(e,n){var r=n;do{var o=(0,s.default)(t,function(e){return r===e||r.contains(e)});if(o.length>0||c.has(r)){e=e.concat(o);break}}while((r=r.parentNode)&&null!==r.outerHTML);return e},[]);return[].concat(o(new Set(f)))}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e*e}function u(e,t){return o(e.x-t.x)+o(e.y-t.y)}function i(e,t,n){var r=u(t,n);if(0===r)return u(e,t);var o=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return o<0?u(e,t):o>1?u(e,n):u(e,{x:t.x+o*(n.x-t.x),y:t.y+o*(n.y-t.y)})}function a(e){var t=e.getBoundingClientRect();return c({element:e},t,{x:t.left,y:t.top})}function l(e,t){var n=t,r={x:t.x+t.width,y:t.y},o={x:t.x+t.width,y:t.y+t.height},u={x:t.x,y:t.y+t.height};return Math.min(i(e,n,r),i(e,r,o),i(e,u,o),i(e,n,u))}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),f=r(s),d=n(2),p=r(d),g=n(4),v=r(g);t.default={options:{closest:{filter:function(e){var t=e.elements,n=e.scopeElements;return f.default.debug("Filtering for closest element to scope"),(0,v.default)(n,function(e){var n=a(e),r=n.element,o=n;o.x=o.x+n.width/2,o.y=o.y+n.height/2;var u=(0,v.default)(t,function(e){return a(e)});return(0,p.default)(u,function(e){return e.element!==r}).sort(function(e,t){var n=l(o,e),r=l(o,t);return n<r?-1:n>r?1:0})[0].element})}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=r(o),i=n(2),a=r(i),l=n(38),c=r(l);t.default={options:{"lowest-level-matches":{check:function(e){return!e.options.includes("highest-level-matches")},filter:function(e){var t=e.elements;return u.default.debug("Filtering for the lowest level matches"),(0,a.default)(t,function(e){return!(0,c.default)(t,function(t){return e!==t&&e.contains(t)})})}},"highest-level-matches":{check:function(e){return!e.options.includes("lowest-level-matches")},filter:function(e){var t=e.elements;return u.default.debug("Filtering for the highest level matches"),(0,a.default)(t,function(e){return(0,c.default)(t,function(t){return e!==t&&!t.contains(e)})})}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={labels:{input:["textarea"]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={options:{first:"1",last:"-1"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.many=t.single=void 0;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),u={options:{single:{check:function(e){var t=e.options;if(-1!==t.indexOf("single")&&-1!==t.indexOf("many"))throw new Error("Using single and many together is not supported. Please pick one");return!0},filter:function(e){var t=e.elements;if(o.default.debug("Returning single element"),0===t.length)throw new Error("No element found");if(t.length>1)throw new Error("More than one element found");return t[0]}}}},i={options:{many:{check:function(e){var t=e.options;if(-1!==t.indexOf("single")&&-1!==t.indexOf("many"))throw new Error("Using single and many together is not supported. Please pick one");return!0},filter:function(e){var t=e.elements;e.options;return o.default.debug("Return all elements"),t}}}};t.single=u,t.many=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),a=r(i),l=n(9),c=r(l),s=n(10),f=r(s),d=function(){function e(){o(this,e),this.config={containerElements:[document.documentElement],extensions:new a.default(c.default),defaultOptions:f.default,advanced:!1,logLevel:"error"}}return u(e,[{key:"addExtension",value:function(e){this.config.extensions.add(e)}},{key:"addLabel",value:function(e,t){var n={};n[e]=t,this.config.extensions.add({labels:n})}},{key:"addOption",value:function(e,t){var n={};n[e]=t,this.config.extensions.add({options:n})}},{key:"setDefaultOptions",value:function(e){this.config.defaultOptions=e}},{key:"setLogLevel",value:function(e){this.config.logLevel=e}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="0.11.7"}]);